<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>QueryWave</title>
  <script
  defer
  src="https://cloud.umami.is/script.js"
  data-website-id="27d07641-7e61-4c79-b1f2-fe0d40c1af20">
  
</script>
<link rel="icon" href="/static/favicon.ico">
  <link rel="stylesheet" href="/static/styles.css?v=1.2">
</head>
<body>
  <div class="wrap">
    <h1>QueryWave</h1>
    <p class="sub"><b>1)</b> Upload a <code>schema.sql</code> → <b>2)</b> Ask in plain English → <b>3)</b> Click <b>Generate SQL</b>.</p>
<p class="muted" style="margin-top:8px;">Tip: if you’re just testing, use the example questions below. You don’t paste SQL here — you ask a question.</p>
    <div style="margin-top:16px; opacity:0.75; font-size:14px;">
      Early version — review SQL before production use.
    </div>
    

    <div class="row">
      <div class="card">
        <h2>1) Upload schema.sql</h2>
        <p class="helper">
          <b>What “schema” means:</b> the <code>CREATE TABLE ...</code> statements that describe your tables/columns.
          <br />
          If you don’t have one yet, click <b>Use demo schema</b> to try the tool instantly.
        </p>
        
        <div class="btnrow">
          <button type="button" id="demoSchemaBtn" class="ghost">Use demo schema</button>
        </div>
        
        <p class="muted">
          Your file should be a plain <code>.sql</code> file containing table definitions (CREATE TABLE).
        </p>
        
        <form id="schemaForm">
          <input type="file" id="schemaFile" name="file" accept=".sql" required />
          <button type="submit">Upload</button>
        </form>

        <div class="meta">
          <div><b>Schema uploads remaining today:</b> <span id="schemasRemaining">{{ schemas_remaining }}</span></div>
          <div id="schemaInfo" class="muted"></div>
        </div>
      </div>

      <div class="card">
        <h2>2) Ask a question</h2>

        <div class="muted">Queries remaining today: <span id="generatesRemaining">{{ generates_remaining }}</span></div>

        <label class="label">Schema ID</label>
        <input id="schemaId" placeholder="After upload, your schema ID appears here automatically" />


        <label class="label">Question</label>
        <textarea id="question" rows="5" maxlength="{{ max_question_chars }}" placeholder="e.g. List all employees with their branch name"></textarea>
        <div class="muted"><span id="charCount">0</span> / {{ max_question_chars }}</div>
        <div class="examples">
          <div class="label">Examples (click to paste)</div>
          <div id="examples" class="examples-list"></div>
        </div>
        

        <div class="btnrow">
          <button id="generateBtn">Generate SQL</button>
          <button id="resetBtn" type="button" class="ghost">Reset schema</button>
        </div>

        <div id="banner" class="banner hidden"></div>
      </div>
    </div>

    <div class="card">
      <h2>Output</h2>

      <div class="split">
        <div>
          <div class="topline">
            <h3>SQL</h3>
            <button id="copySqlBtn" class="small">Copy SQL</button>
          </div>
          <pre id="sqlOut" class="pre"></pre>
        </div>

        <div>
          <div class="topline">
            <h3>Validation</h3>
            <button id="copyValBtn" class="small">Copy JSON</button>
          </div>
          <pre id="valOut" class="pre"></pre>
        </div>
      </div>

      <div>
        <h3>Message</h3>
        <pre id="msgOut" class="pre"></pre>
      </div>
      <div>
        <h3>Explanation</h3>
        <pre id="explainOut" class="pre"></pre>
      </div>
      
    </div>

    <p class="foot muted">
      Early experiment. If you find edge cases, that’s the point.
    </p>
  </div>

  <script src="/static/app.js?v=1.3"></script>
</body>
</html>
